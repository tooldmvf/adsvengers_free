{
  "pluginType": "JS",
  "pluginId": "js-plugin",
  "unpublishedAction": {
    "name": "insert_wf_offer",
    "fullyQualifiedName": "wf_offers.insert_wf_offer",
    "datasource": {
      "name": "UNUSED_DATASOURCE",
      "pluginId": "js-plugin",
      "messages": [],
      "isAutoGenerated": false,
      "deleted": false,
      "policies": [],
      "userPermissions": []
    },
    "pageId": "Campaign Name Builder Utility",
    "collectionId": "Campaign Name Builder Utility_wf_offers",
    "actionConfiguration": {
      "timeoutInMillisecond": 10000,
      "paginationType": "NONE",
      "encodeParamsToggle": true,
      "body": "async () => {\n  const object = await get_WF_api_key.run();\n  const res = await get_all_wf_offers_QL.run({\n    user_key: object[0].user_api_key\n  });\n  for (let i = 0; i < Object.keys(res.data.readCampaigns).length; i++) {\n    let cat_short = 'G';\n    await console.log(res.data.readCampaigns[i].id);\n    if (res.data.readCampaigns[i].categories.includes('nutra') || res.data.readCampaigns[i].categories.includes('beauty') || res.data.readCampaigns[i].categories.includes('health')) cat_short = 'N';\n    if (res.data.readCampaigns[i].name.toLowerCase().includes('leggin') || res.data.readCampaigns[i].name.toLowerCase().includes('jeggi')) cat_short = 'A';\n    await insert_offer_network.run({\n      offer_id_net: res.data.readCampaigns[i].id,\n      offer_name_net: res.data.readCampaigns[i].name,\n      fk_network_id: object[0].network_id,\n      off_category_net: res.data.readCampaigns[i].categories,\n      off_cat_short: cat_short,\n      payout: res.data.readCampaigns[i].DefaultCommission.amount\n    });\n  }\n  await get_offer_net.run();\n}",
      "selfReferencingDataPaths": [],
      "jsArguments": [],
      "isAsync": true
    },
    "executeOnLoad": false,
    "dynamicBindingPathList": [
      {
        "key": "body"
      }
    ],
    "isValid": true,
    "invalids": [],
    "messages": [],
    "jsonPathKeys": [
      "async () => {\n  const object = await get_WF_api_key.run();\n  const res = await get_all_wf_offers_QL.run({\n    user_key: object[0].user_api_key\n  });\n  for (let i = 0; i < Object.keys(res.data.readCampaigns).length; i++) {\n    let cat_short = 'G';\n    await console.log(res.data.readCampaigns[i].id);\n    if (res.data.readCampaigns[i].categories.includes('nutra') || res.data.readCampaigns[i].categories.includes('beauty') || res.data.readCampaigns[i].categories.includes('health')) cat_short = 'N';\n    if (res.data.readCampaigns[i].name.toLowerCase().includes('leggin') || res.data.readCampaigns[i].name.toLowerCase().includes('jeggi')) cat_short = 'A';\n    await insert_offer_network.run({\n      offer_id_net: res.data.readCampaigns[i].id,\n      offer_name_net: res.data.readCampaigns[i].name,\n      fk_network_id: object[0].network_id,\n      off_category_net: res.data.readCampaigns[i].categories,\n      off_cat_short: cat_short,\n      payout: res.data.readCampaigns[i].DefaultCommission.amount\n    });\n  }\n  await get_offer_net.run();\n}"
    ],
    "userSetOnLoad": false,
    "confirmBeforeExecute": false,
    "policies": [],
    "userPermissions": []
  },
  "id": "Campaign Name Builder Utility_wf_offers.insert_wf_offer",
  "deleted": false,
  "gitSyncId": "63c3151532584b547fffe91b_63caac0140c6ec5d3546a8f8"
}